{
    "enabled": true,
    "name": "MCP Configuration Validation",
    "description": "Validate MCP server configuration when mcp.json files are modified following MCP best practices",
    "version": "2.0",
    "when": {
        "type": "fileEdited",
        "patterns": [
            ".kiro/settings/mcp.json",
            "~/.kiro/settings/mcp.json"
        ]
    },
    "then": {
        "type": "askAgent",
        "agentName": "code-reviewer",
        "prompt": "MCP configuration validation:\n\n**Validation**:\n1. **JSON syntax**: Valid configuration structure\n2. **Server endpoints**: Reachable MCP servers\n3. **Permissions**: Appropriate tool access levels\n4. **Dependencies**: Required MCP packages installed\n\n**Security**: Review tool permissions and server trust levels\n\n**Output**: MCP config validation with security assessment",
    }
}